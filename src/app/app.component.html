<ion-app>
  <ion-menu>
    <ion-header>
      <ion-toolbar>
        <ion-title>
          <span *ngIf="!authService.isAuthenticated()">{{ 'Menu' | translate }}</span>
          <span *ngIf="authService.isAuthenticated()">{{'Hi'|translate}}, {{authService.userProfile?.name}}</span>
        </ion-title>
      </ion-toolbar>
    </ion-header>

    <ion-content>
      <ion-menu-toggle auto-hide="false">
        <ion-list>
          <ion-item-divider><ion-label>Fun Fun Spell</ion-label></ion-item-divider>
          <button ion-item menuClose *ngFor="let p of appPages" (click)="openPage(p)" [style.color]="isActive(p)">
            <i [ngClass]="p.iconClass" item-start></i> {{p.title | translate}}
          </button>
          <button ion-item menuClose *ngFor="let p of loggedInPages" (click)="openLoggedInPage(p)" [style.color]="isActive(p)">
            <i [ngClass]="p.iconClass" item-start></i> {{p.title | translate}}
          </button>

          <ion-item-divider><ion-label>{{ 'Account' | translate }}</ion-label></ion-item-divider>
          <ion-item *ngIf="!authService.isAuthenticated()" (click)="authService.login()">
            <ion-label><fa-icon [icon]="['fas', 'sign-in-alt']" item-start></fa-icon> {{ 'Login' | translate }}</ion-label>
          </ion-item>
          <ion-item *ngIf="!authService.isAuthenticated()" (click)="authService.signUp()">
            <fa-icon [icon]="['fas', 'user-plus']" item-start></fa-icon> {{ 'Sign Up' | translate }}
          </ion-item>
          <ion-item *ngIf="authService.isAuthenticated()" (click)="navigationService.openAccountPage()">
            <fa-icon [icon]="['fas', 'user']" item-start></fa-icon> {{ 'My Account' | translate }}
          </ion-item>
          <ion-item *ngIf="authService.isAuthenticated()" (click)="authService.logout()">
            <fa-icon [icon]="['fas', 'sign-out-alt']" item-start></fa-icon> {{ 'Logout' | translate }}
          </ion-item>

          <ion-item-divider><ion-label>{{ 'Language' | translate }}</ion-label></ion-item-divider>
          <ion-item (click)="changeLanguage('en')"><ion-label>Eng</ion-label></ion-item>
          <ion-item (click)="changeLanguage('zh-Hant')"><ion-label>繁體</ion-label></ion-item>
          <ion-item (click)="changeLanguage('zh-Hans')"><ion-label>简体</ion-label></ion-item>

          <button ion-item menuClose (click)="openContactUs()"><fa-icon [icon]="['fas', 'external-link-alt']" item-start></fa-icon>{{'Contact Us'|translate}}</button>
          <button ion-item menuClose (click)="appService.openFunFunSpell()"><fa-icon [icon]="['fas', 'external-link-alt']" item-start></fa-icon>{{'More Exercises at'|translate}}<br/>funfunspell.com</button>
        </ion-list>
      </ion-menu-toggle>
    </ion-content>

  </ion-menu>

  <ion-router-outlet></ion-router-outlet>
</ion-app>

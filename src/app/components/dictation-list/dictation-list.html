@if (dictations) {
  <ion-card class="card dictation-list" style="margin-top: 12px;">
    <ion-card-header>
      <ion-card-title>
        <fa-icon [icon]="['fas', 'edit']"></fa-icon>
        {{ title | translate }}
      </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      @if (loading) {
        <ion-progress-bar type="indeterminate"></ion-progress-bar>
      }
      @if (dictations?.length == 0) {
        <div class="ion-text-center" style="padding: 16px;">{{ 'No dictation' | translate}}</div>
      }
      <ion-list id="dictation-list">
        @for (dictation of viewDictations; track dictation; let i = $index) {
          <ion-item>
            <ion-label [@move]="state" (@move.done)="onDone($event)">
              <ion-row>
                <ion-col class="heading">{{dictation.title}}</ion-col>
                <ion-col class="ion-text-right">{{ dictation.createdDate | date: 'yyyy-MM-dd' }}</ion-col>
              </ion-row>
              <ion-row>
                <ion-col style="min-width: 120px;">
                  <fa-icon [icon]="['fas', 'list-ol']"></fa-icon> {{ dictation | dictationQuestions }}
                </ion-col>
                <ion-col>
                  <div class="ion-text-end">
                    <fa-icon [icon]="['fas', 'pencil-alt']"></fa-icon> {{ dictation.totalAttempt }}
                  </div>
                </ion-col>
                @if (source !== DictationSource.Select) {
                  <ion-col class="recommended-col">
                    <div class="ion-text-end">
                      <fa-icon [icon]="['far', 'thumbs-up']"></fa-icon> {{dictation.totalRecommended}}
                    </div>
                  </ion-col>
                }
              </ion-row>
              @if (dictation.suitableStudent) {
                <ion-row class="suitable-student-row">
                  <ion-col class="col-label">{{ 'Suitable' | translate }}: {{ 'SuitableStudent.' + dictation.suitableStudent | translate }}</ion-col>
                </ion-row>
              }
            </ion-label>
            <ion-button fill="outline" slot="end" (click)="navService.pushOpenDictation(dictation)">{{ 'ViewDictation' | translate }}</ion-button>
          </ion-item>
        }
      </ion-list>
      <ion-row>
        <ion-col>
          @if (page > 0) {
            <ion-button fill="clear" color="secondary" (click)="newer()"><fa-icon [icon]="['fas', 'angle-left']"></fa-icon> {{ 'Newer' | translate }}</ion-button>
          }
        </ion-col>
        <ion-col class="ion-text-right">
          @if (showOlder) {
            <ion-button fill="clear" color="secondary" (click)="older()">{{ 'Older' | translate }} <fa-icon [icon]="['fas', 'angle-right']"></fa-icon></ion-button>
          }
        </ion-col>
      </ion-row>
      <ion-row style="border-top: 1px solid #c8c7cc;">
        <ion-col class="ion-text-right">
          @if (showCreateButton) {
            <ion-button fill="clear" (click)="navService.editDictation()"><fa-icon [icon]="['fas', 'edit']"></fa-icon>&nbsp;{{ 'Create Dictation' | translate }}</ion-button>
          }
        </ion-col>
      </ion-row>
    </ion-card-content>
  </ion-card>
}
